{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/components/UploadBox.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst API_BASE_URL = 'http://127.0.0.1:8000/api';\r\n\r\nexport default function UploadBox() {\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) return toast.error('Please select a file first.');\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.post(`${API_BASE_URL}/documents/upload`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      toast.success('✅ Document uploaded successfully!');\r\n      console.log('Upload Response:', res.data);\r\n    } catch (error: any) {\r\n      console.error('Upload Error:', error);\r\n      toast.error(error?.response?.data?.detail || 'Upload failed.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center space-y-4\">\r\n      <h2 className=\"text-xl font-semibold text-gray-700\">Upload Document</h2>\r\n      <input\r\n        type=\"file\"\r\n        accept=\".pdf,.txt\"\r\n        onChange={(e) => setFile(e.target.files?.[0] || null)}\r\n        className=\"border border-gray-300 p-2 rounded-md w-full\"\r\n      />\r\n      <button\r\n        onClick={handleUpload}\r\n        disabled={loading}\r\n        className={`w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition ${\r\n          loading ? 'opacity-60 cursor-not-allowed' : ''\r\n        }`}\r\n      >\r\n        {loading ? 'Uploading...' : 'Upload'}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,eAAe;AAEN,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,qLAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qLAAQ,EAAC;IAEvC,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM,OAAO,mKAAK,CAAC,KAAK,CAAC;QAE9B,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QAExB,IAAI;YACF,WAAW;YACX,MAAM,MAAM,MAAM,+JAAK,CAAC,IAAI,CAAC,GAAG,aAAa,iBAAiB,CAAC,EAAE,UAAU;gBACzE,SAAS;oBAAE,gBAAgB;gBAAsB;YACnD;YACA,mKAAK,CAAC,OAAO,CAAC;YACd,QAAQ,GAAG,CAAC,oBAAoB,IAAI,IAAI;QAC1C,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,mKAAK,CAAC,KAAK,CAAC,OAAO,UAAU,MAAM,UAAU;QAC/C,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,yMAAC;QAAI,WAAU;;0BACb,yMAAC;gBAAG,WAAU;0BAAsC;;;;;;0BACpD,yMAAC;gBACC,MAAK;gBACL,QAAO;gBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;gBAChD,WAAU;;;;;;0BAEZ,yMAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAW,CAAC,2EAA2E,EACrF,UAAU,kCAAkC,IAC5C;0BAED,UAAU,iBAAiB;;;;;;;;;;;;AAIpC;GA7CwB;KAAA","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/components/AskQuestionBox.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst API_BASE_URL = 'http://127.0.0.1:8000/api';\r\n\r\nexport default function AskQuestionBox({ docId }: { docId: string }) {\r\n  const [question, setQuestion] = useState('');\r\n  const [answer, setAnswer] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleAsk = async () => {\r\n    if (!question.trim()) return toast.error('Please enter a question.');\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.post(`${API_BASE_URL}/questions/ask`, {\r\n        doc_id: docId,\r\n        question,\r\n      });\r\n      setAnswer(res.data.answer);\r\n      toast.success('✅ Answer received!');\r\n    } catch (error: any) {\r\n      console.error('Ask Error:', error);\r\n      toast.error(error?.response?.data?.detail || 'Failed to get answer.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl font-semibold mb-3 text-gray-700\">Ask a Question</h2>\r\n      <textarea\r\n        value={question}\r\n        onChange={(e) => setQuestion(e.target.value)}\r\n        placeholder=\"Type your question here...\"\r\n        className=\"w-full border border-gray-300 rounded-md p-2 mb-3\"\r\n      />\r\n      <button\r\n        onClick={handleAsk}\r\n        disabled={loading}\r\n        className={`w-full bg-green-600 text-white py-2 rounded-md hover:bg-green-700 transition ${\r\n          loading ? 'opacity-60 cursor-not-allowed' : ''\r\n        }`}\r\n      >\r\n        {loading ? 'Thinking...' : 'Ask'}\r\n      </button>\r\n\r\n      {answer && (\r\n        <div className=\"mt-4 bg-gray-50 p-3 rounded-md border\">\r\n          <p className=\"font-medium text-gray-800\">Answer:</p>\r\n          <p className=\"text-gray-700 mt-1\">{answer}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,eAAe;AAEN,SAAS,eAAe,EAAE,KAAK,EAAqB;;IACjE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,qLAAQ,EAAC;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,qLAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qLAAQ,EAAC;IAEvC,MAAM,YAAY;QAChB,IAAI,CAAC,SAAS,IAAI,IAAI,OAAO,mKAAK,CAAC,KAAK,CAAC;QAEzC,IAAI;YACF,WAAW;YACX,MAAM,MAAM,MAAM,+JAAK,CAAC,IAAI,CAAC,GAAG,aAAa,cAAc,CAAC,EAAE;gBAC5D,QAAQ;gBACR;YACF;YACA,UAAU,IAAI,IAAI,CAAC,MAAM;YACzB,mKAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,cAAc;YAC5B,mKAAK,CAAC,KAAK,CAAC,OAAO,UAAU,MAAM,UAAU;QAC/C,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,yMAAC;;0BACC,yMAAC;gBAAG,WAAU;0BAA2C;;;;;;0BACzD,yMAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gBAC3C,aAAY;gBACZ,WAAU;;;;;;0BAEZ,yMAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAW,CAAC,6EAA6E,EACvF,UAAU,kCAAkC,IAC5C;0BAED,UAAU,gBAAgB;;;;;;YAG5B,wBACC,yMAAC;gBAAI,WAAU;;kCACb,yMAAC;wBAAE,WAAU;kCAA4B;;;;;;kCACzC,yMAAC;wBAAE,WAAU;kCAAsB;;;;;;;;;;;;;;;;;;AAK7C;GAnDwB;KAAA","debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/components/DocumentList.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst API_BASE_URL = 'http://127.0.0.1:8000/api';\r\n\r\ninterface Document {\r\n  id: string;\r\n  filename: string;\r\n  file_type: string;\r\n  created_at: string;\r\n}\r\n\r\nexport default function DocumentList({ onSelectDoc }: { onSelectDoc: (id: string) => void }) {\r\n  const [documents, setDocuments] = useState<Document[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchDocuments = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const res = await axios.get(`${API_BASE_URL}/documents`);\r\n        setDocuments(res.data.documents || []);\r\n      } catch (error: any) {\r\n        console.error('Fetch Error:', error);\r\n        toast.error('Failed to fetch documents.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  if (loading) return <p>Loading documents...</p>;\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl font-semibold mb-2 text-gray-700\">Uploaded Documents</h2>\r\n      {documents.length === 0 ? (\r\n        <p className=\"text-gray-500 text-sm\">No documents uploaded yet.</p>\r\n      ) : (\r\n        <ul className=\"space-y-2\">\r\n          {documents.map((doc) => (\r\n            <li\r\n              key={doc.id}\r\n              onClick={() => onSelectDoc(doc.id)}\r\n              className=\"p-3 border rounded-md hover:bg-gray-100 cursor-pointer transition\"\r\n            >\r\n              <p className=\"font-medium text-gray-800\">{doc.filename}</p>\r\n              <p className=\"text-sm text-gray-500\">\r\n                Type: {doc.file_type} | {new Date(doc.created_at).toLocaleString()}\r\n              </p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,eAAe;AASN,SAAS,aAAa,EAAE,WAAW,EAAyC;;IACzF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,qLAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qLAAQ,EAAC;IAEvC,IAAA,sLAAS;kCAAC;YACR,MAAM;yDAAiB;oBACrB,IAAI;wBACF,WAAW;wBACX,MAAM,MAAM,MAAM,+JAAK,CAAC,GAAG,CAAC,GAAG,aAAa,UAAU,CAAC;wBACvD,aAAa,IAAI,IAAI,CAAC,SAAS,IAAI,EAAE;oBACvC,EAAE,OAAO,OAAY;wBACnB,QAAQ,KAAK,CAAC,gBAAgB;wBAC9B,mKAAK,CAAC,KAAK,CAAC;oBACd,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;iCAAG,EAAE;IAEL,IAAI,SAAS,qBAAO,yMAAC;kBAAE;;;;;;IAEvB,qBACE,yMAAC;;0BACC,yMAAC;gBAAG,WAAU;0BAA2C;;;;;;YACxD,UAAU,MAAM,KAAK,kBACpB,yMAAC;gBAAE,WAAU;0BAAwB;;;;;qCAErC,yMAAC;gBAAG,WAAU;0BACX,UAAU,GAAG,CAAC,CAAC,oBACd,yMAAC;wBAEC,SAAS,IAAM,YAAY,IAAI,EAAE;wBACjC,WAAU;;0CAEV,yMAAC;gCAAE,WAAU;0CAA6B,IAAI,QAAQ;;;;;;0CACtD,yMAAC;gCAAE,WAAU;;oCAAwB;oCAC5B,IAAI,SAAS;oCAAC;oCAAI,IAAI,KAAK,IAAI,UAAU,EAAE,cAAc;;;;;;;;uBAN7D,IAAI,EAAE;;;;;;;;;;;;;;;;AAczB;GA9CwB;KAAA","debugId":null}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport UploadBox from '@/components/UploadBox';\r\nimport AskQuestionBox from '@/components/AskQuestionBox';\r\nimport DocumentList from '@/components/DocumentList';\r\n\r\nexport default function Page() {\r\n  const [selectedDoc, setSelectedDoc] = useState<string | null>(null);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col items-center p-4\">\r\n      <h1 className=\"text-3xl font-semibold mb-4 text-center text-gray-800\">\r\n        📄 Smart Document Q&A Assistant\r\n      </h1>\r\n\r\n      <div className=\"w-full max-w-3xl space-y-6\">\r\n        {/* Upload Section */}\r\n        <div className=\"bg-white shadow-md rounded-2xl p-6\">\r\n          <UploadBox />\r\n        </div>\r\n\r\n        {/* Document List */}\r\n        <div className=\"bg-white shadow-md rounded-2xl p-6\">\r\n          <DocumentList onSelectDoc={(id) => setSelectedDoc(id)} />\r\n        </div>\r\n\r\n        {/* Ask Question Section */}\r\n        {selectedDoc && (\r\n          <div className=\"bg-white shadow-md rounded-2xl p-6\">\r\n            <AskQuestionBox docId={selectedDoc} />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,qLAAQ,EAAgB;IAE9D,qBACE,yMAAC;QAAI,WAAU;;0BACb,yMAAC;gBAAG,WAAU;0BAAwD;;;;;;0BAItE,yMAAC;gBAAI,WAAU;;kCAEb,yMAAC;wBAAI,WAAU;kCACb,cAAA,yMAAC,kJAAS;;;;;;;;;;kCAIZ,yMAAC;wBAAI,WAAU;kCACb,cAAA,yMAAC,qJAAY;4BAAC,aAAa,CAAC,KAAO,eAAe;;;;;;;;;;;oBAInD,6BACC,yMAAC;wBAAI,WAAU;kCACb,cAAA,yMAAC,uJAAc;4BAAC,OAAO;;;;;;;;;;;;;;;;;;;;;;;AAMnC;GA7BwB;KAAA","debugId":null}}]
}