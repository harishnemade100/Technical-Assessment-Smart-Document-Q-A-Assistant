{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/components/UploadBox.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst API_BASE_URL = \"http://127.0.0.1:8000/api\";\r\n\r\nexport default function UploadBox() {\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [response, setResponse] = useState<any | null>(null);\r\n\r\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files && event.target.files.length > 0) {\r\n      setFile(event.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) {\r\n      toast.error(\"Please select a file to upload!\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    try {\r\n      setUploading(true);\r\n      toast.loading(\"Uploading document...\");\r\n\r\n      const res = await axios.post(`${API_BASE_URL}/documents/upload`, formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n\r\n      toast.dismiss();\r\n      toast.success(\"Document uploaded successfully!\");\r\n      setResponse(res.data); // Save response body\r\n\r\n    } catch (error: any) {\r\n      toast.dismiss();\r\n      toast.error(\"Upload failed! Please try again.\");\r\n      console.error(\"Upload Error:\", error);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 bg-white rounded-2xl shadow-lg w-full max-w-xl mx-auto border\">\r\n      <h2 className=\"text-2xl font-semibold mb-4 text-center\">ðŸ“„ Upload Document</h2>\r\n\r\n      <div className=\"flex flex-col items-center gap-3\">\r\n        <input\r\n          type=\"file\"\r\n          accept=\".pdf,.txt\"\r\n          onChange={handleFileChange}\r\n          className=\"block w-full text-sm border border-gray-300 rounded-lg cursor-pointer p-2\"\r\n        />\r\n\r\n        <button\r\n          onClick={handleUpload}\r\n          disabled={uploading}\r\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-all duration-300\"\r\n        >\r\n          {uploading ? \"Uploading...\" : \"Upload\"}\r\n        </button>\r\n      </div>\r\n\r\n      {response && (\r\n        <div className=\"mt-6 p-4 bg-gray-100 border rounded-lg text-sm\">\r\n          <h3 className=\"font-semibold text-gray-800 mb-2\">âœ… Upload Response:</h3>\r\n          <pre className=\"bg-white p-3 rounded-md overflow-auto text-gray-700\">\r\n            {JSON.stringify(response, null, 2)}\r\n          </pre>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,eAAe;AAEN,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,qLAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,qLAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,qLAAQ,EAAa;IAErD,MAAM,mBAAmB,CAAC;QACxB,IAAI,MAAM,MAAM,CAAC,KAAK,IAAI,MAAM,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG;YACvD,QAAQ,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE;QAC/B;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM;YACT,mKAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QAExB,IAAI;YACF,aAAa;YACb,mKAAK,CAAC,OAAO,CAAC;YAEd,MAAM,MAAM,MAAM,+JAAK,CAAC,IAAI,CAAC,GAAG,aAAa,iBAAiB,CAAC,EAAE,UAAU;gBACzE,SAAS;oBAAE,gBAAgB;gBAAsB;YACnD;YAEA,mKAAK,CAAC,OAAO;YACb,mKAAK,CAAC,OAAO,CAAC;YACd,YAAY,IAAI,IAAI,GAAG,qBAAqB;QAE9C,EAAE,OAAO,OAAY;YACnB,mKAAK,CAAC,OAAO;YACb,mKAAK,CAAC,KAAK,CAAC;YACZ,QAAQ,KAAK,CAAC,iBAAiB;QACjC,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,yMAAC;QAAI,WAAU;;0BACb,yMAAC;gBAAG,WAAU;0BAA0C;;;;;;0BAExD,yMAAC;gBAAI,WAAU;;kCACb,yMAAC;wBACC,MAAK;wBACL,QAAO;wBACP,UAAU;wBACV,WAAU;;;;;;kCAGZ,yMAAC;wBACC,SAAS;wBACT,UAAU;wBACV,WAAU;kCAET,YAAY,iBAAiB;;;;;;;;;;;;YAIjC,0BACC,yMAAC;gBAAI,WAAU;;kCACb,yMAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,yMAAC;wBAAI,WAAU;kCACZ,KAAK,SAAS,CAAC,UAAU,MAAM;;;;;;;;;;;;;;;;;;AAM5C;GAxEwB;KAAA","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/components/DocumentList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface Document {\r\n  document_id: string;\r\n  filename: string;\r\n  status: string;\r\n  chunks_created: number;\r\n  uploaded_at: string;\r\n}\r\n\r\nexport default function DocumentList({ onSelect }: { onSelect: (id: string) => void }) {\r\n  const [documents, setDocuments] = useState<Document[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetchDocuments = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.get(\"http://127.0.0.1:8000/api/documents/\");\r\n      setDocuments(res.data);\r\n    } catch (err) {\r\n      toast.error(\"Failed to load documents.\");\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const deleteDocument = async (id: string) => {\r\n    try {\r\n      await axios.delete(`http://127.0.0.1:8000/api/documents/${id}`);\r\n      toast.success(\"Document deleted successfully!\");\r\n      fetchDocuments();\r\n    } catch (err) {\r\n      toast.error(\"Failed to delete document.\");\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-2xl shadow-md\">\r\n      <h2 className=\"text-xl font-semibold mb-3 text-blue-600\">Uploaded Documents</h2>\r\n\r\n      {loading ? (\r\n        <p>Loading documents...</p>\r\n      ) : documents.length === 0 ? (\r\n        <p className=\"text-gray-500\">No documents found.</p>\r\n      ) : (\r\n        <ul className=\"space-y-2\">\r\n          {documents.map((doc) => (\r\n            <li key={doc.document_id} className=\"flex justify-between items-center bg-gray-50 p-3 rounded-lg\">\r\n              <div>\r\n                <p className=\"font-medium\">{doc.filename}</p>\r\n                <p className=\"text-sm text-gray-500\">Status: {doc.status}</p>\r\n              </div>\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={() => onSelect(doc.document_id)}\r\n                  className=\"bg-green-500 text-white px-3 py-1 rounded-lg hover:bg-green-600\"\r\n                >\r\n                  Ask\r\n                </button>\r\n                <button\r\n                  onClick={() => deleteDocument(doc.document_id)}\r\n                  className=\"bg-red-500 text-white px-3 py-1 rounded-lg hover:bg-red-600\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAce,SAAS,aAAa,EAAE,QAAQ,EAAsC;;IACnF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,qLAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qLAAQ,EAAC;IAEvC,MAAM,iBAAiB;QACrB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,+JAAK,CAAC,GAAG,CAAC;YAC5B,aAAa,IAAI,IAAI;QACvB,EAAE,OAAO,KAAK;YACZ,gKAAK,CAAC,KAAK,CAAC;YACZ,QAAQ,KAAK,CAAC;QAChB,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,MAAM,+JAAK,CAAC,MAAM,CAAC,CAAC,oCAAoC,EAAE,IAAI;YAC9D,gKAAK,CAAC,OAAO,CAAC;YACd;QACF,EAAE,OAAO,KAAK;YACZ,gKAAK,CAAC,KAAK,CAAC;YACZ,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,IAAA,sLAAS;kCAAC;YACR;QACF;iCAAG,EAAE;IAEL,qBACE,yMAAC;QAAI,WAAU;;0BACb,yMAAC;gBAAG,WAAU;0BAA2C;;;;;;YAExD,wBACC,yMAAC;0BAAE;;;;;uBACD,UAAU,MAAM,KAAK,kBACvB,yMAAC;gBAAE,WAAU;0BAAgB;;;;;qCAE7B,yMAAC;gBAAG,WAAU;0BACX,UAAU,GAAG,CAAC,CAAC,oBACd,yMAAC;wBAAyB,WAAU;;0CAClC,yMAAC;;kDACC,yMAAC;wCAAE,WAAU;kDAAe,IAAI,QAAQ;;;;;;kDACxC,yMAAC;wCAAE,WAAU;;4CAAwB;4CAAS,IAAI,MAAM;;;;;;;;;;;;;0CAE1D,yMAAC;gCAAI,WAAU;;kDACb,yMAAC;wCACC,SAAS,IAAM,SAAS,IAAI,WAAW;wCACvC,WAAU;kDACX;;;;;;kDAGD,yMAAC;wCACC,SAAS,IAAM,eAAe,IAAI,WAAW;wCAC7C,WAAU;kDACX;;;;;;;;;;;;;uBAfI,IAAI,WAAW;;;;;;;;;;;;;;;;AAyBpC;GApEwB;KAAA","debugId":null}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/components/AskQuestionBox.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst API_BASE_URL = \"http://127.0.0.1:8000/api/qa/query\"; // âœ… matches backend\r\n\r\ninterface AskQuestionBoxProps {\r\n  selectedDocId: string | null;\r\n}\r\n\r\nexport default function AskQuestionBox({ selectedDocId }: AskQuestionBoxProps) {\r\n  const [question, setQuestion] = useState(\"\");\r\n  const [answer, setAnswer] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleAsk = async () => {\r\n    if (!selectedDocId) {\r\n      setError(\"Please select a document first.\");\r\n      return;\r\n    }\r\n    if (!question.trim()) {\r\n      setError(\"Please enter a question.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      setAnswer(null);\r\n\r\n      // âœ… Matches your cURL exactly\r\n      const res = await axios.post(\r\n        `${API_BASE_URL}?document_id=${selectedDocId}&question=${encodeURIComponent(question)}`,\r\n        {},\r\n        { headers: { accept: \"application/json\" } }\r\n      );\r\n\r\n      console.log(\"Response Data:\", res.data);\r\n      setAnswer(res.data.answer || JSON.stringify(res.data, null, 2));\r\n    } catch (err: any) {\r\n      console.error(\"Axios Error:\", err);\r\n      setError(`Error: ${err.response?.status} ${err.response?.statusText}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 bg-white shadow-md rounded-xl mt-6\">\r\n      <h2 className=\"text-lg font-semibold mb-2\">Ask a Question</h2>\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Type your question...\"\r\n        value={question}\r\n        onChange={(e) => setQuestion(e.target.value)}\r\n        className=\"border p-2 w-full rounded-md mb-3\"\r\n      />\r\n\r\n      <button\r\n        onClick={handleAsk}\r\n        disabled={loading}\r\n        className=\"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md\"\r\n      >\r\n        {loading ? \"Asking...\" : \"Ask Question\"}\r\n      </button>\r\n\r\n      {error && <p className=\"text-red-600 mt-3\">{error}</p>}\r\n\r\n      {answer && (\r\n        <div className=\"bg-gray-100 border mt-4 p-3 rounded-md\">\r\n          <strong>Answer:</strong>\r\n          <p className=\"whitespace-pre-wrap\">{answer}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,eAAe,sCAAsC,oBAAoB;AAMhE,SAAS,eAAe,EAAE,aAAa,EAAuB;;IAC3E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,qLAAQ,EAAC;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,qLAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qLAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qLAAQ,EAAgB;IAElD,MAAM,YAAY;QAChB,IAAI,CAAC,eAAe;YAClB,SAAS;YACT;QACF;QACA,IAAI,CAAC,SAAS,IAAI,IAAI;YACpB,SAAS;YACT;QACF;QAEA,IAAI;YACF,WAAW;YACX,SAAS;YACT,UAAU;YAEV,8BAA8B;YAC9B,MAAM,MAAM,MAAM,+JAAK,CAAC,IAAI,CAC1B,GAAG,aAAa,aAAa,EAAE,cAAc,UAAU,EAAE,mBAAmB,WAAW,EACvF,CAAC,GACD;gBAAE,SAAS;oBAAE,QAAQ;gBAAmB;YAAE;YAG5C,QAAQ,GAAG,CAAC,kBAAkB,IAAI,IAAI;YACtC,UAAU,IAAI,IAAI,CAAC,MAAM,IAAI,KAAK,SAAS,CAAC,IAAI,IAAI,EAAE,MAAM;QAC9D,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,SAAS,CAAC,OAAO,EAAE,IAAI,QAAQ,EAAE,OAAO,CAAC,EAAE,IAAI,QAAQ,EAAE,YAAY;QACvE,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,yMAAC;QAAI,WAAU;;0BACb,yMAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAE3C,yMAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gBAC3C,WAAU;;;;;;0BAGZ,yMAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAU;0BAET,UAAU,cAAc;;;;;;YAG1B,uBAAS,yMAAC;gBAAE,WAAU;0BAAqB;;;;;;YAE3C,wBACC,yMAAC;gBAAI,WAAU;;kCACb,yMAAC;kCAAO;;;;;;kCACR,yMAAC;wBAAE,WAAU;kCAAuB;;;;;;;;;;;;;;;;;;AAK9C;GApEwB;KAAA","debugId":null}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport UploadBox from \"../components/UploadBox\";\r\nimport DocumentList from \"../components/DocumentList\";\r\nimport AskQuestionBox from \"../components/AskQuestionBox\";\r\n\r\nexport default function Page() {\r\n  const [selectedDocId, setSelectedDocId] = useState<string | null>(null);\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gray-100 p-6 flex flex-col gap-6\">\r\n      <h1 className=\"text-3xl font-bold text-center mb-6 text-blue-700\">\r\n        Smart Document Q&A Assistant\r\n      </h1>\r\n\r\n      <UploadBox />\r\n      <DocumentList onSelect={(id) => setSelectedDocId(id)} />\r\n\r\n      {selectedDocId && <AskQuestionBox selectedDocId={selectedDocId} />}\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,qLAAQ,EAAgB;IAElE,qBACE,yMAAC;QAAK,WAAU;;0BACd,yMAAC;gBAAG,WAAU;0BAAoD;;;;;;0BAIlE,yMAAC,kJAAS;;;;;0BACV,yMAAC,qJAAY;gBAAC,UAAU,CAAC,KAAO,iBAAiB;;;;;;YAEhD,+BAAiB,yMAAC,uJAAc;gBAAC,eAAe;;;;;;;;;;;;AAGvD;GAfwB;KAAA","debugId":null}}]
}