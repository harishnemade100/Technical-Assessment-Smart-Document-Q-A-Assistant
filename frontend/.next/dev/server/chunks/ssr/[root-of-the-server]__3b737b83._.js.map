{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/lib/api.ts"],"sourcesContent":["import axios from 'axios'\r\n\r\nexport const API_BASE_URL = \"http://127.0.0.1:8000/api\";\r\n\r\n// Upload document\r\nexport async function uploadDocument(file: File) {\r\n  const formData = new FormData()\r\n  formData.append('file', file)\r\n  const res = await axios.post(`${API_BASE_URL}/documents/upload`, formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' },\r\n  })\r\n  return res.data\r\n}\r\n\r\n// Get all uploaded documents\r\nexport async function getDocuments() {\r\n  const res = await axios.get(`${API_BASE_URL}/documents`)\r\n  return res.data\r\n}\r\n\r\n// Delete a document\r\nexport async function deleteDocument(id: string) {\r\n  const res = await axios.delete(`${API_BASE_URL}/documents/${id}`)\r\n  return res.data\r\n}\r\n\r\n// Query a document (ask a question)\r\nexport async function queryDocument(id: string, question: string) {\r\n  const res = await axios.post(`${API_BASE_URL}/documents/query`, { id, question })\r\n  return res.data\r\n}"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEO,MAAM,eAAe;AAGrB,eAAe,eAAe,IAAU;IAC7C,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,QAAQ;IACxB,MAAM,MAAM,MAAM,4JAAK,CAAC,IAAI,CAAC,GAAG,aAAa,iBAAiB,CAAC,EAAE,UAAU;QACzE,SAAS;YAAE,gBAAgB;QAAsB;IACnD;IACA,OAAO,IAAI,IAAI;AACjB;AAGO,eAAe;IACpB,MAAM,MAAM,MAAM,4JAAK,CAAC,GAAG,CAAC,GAAG,aAAa,UAAU,CAAC;IACvD,OAAO,IAAI,IAAI;AACjB;AAGO,eAAe,eAAe,EAAU;IAC7C,MAAM,MAAM,MAAM,4JAAK,CAAC,MAAM,CAAC,GAAG,aAAa,WAAW,EAAE,IAAI;IAChE,OAAO,IAAI,IAAI;AACjB;AAGO,eAAe,cAAc,EAAU,EAAE,QAAgB;IAC9D,MAAM,MAAM,MAAM,4JAAK,CAAC,IAAI,CAAC,GAAG,aAAa,gBAAgB,CAAC,EAAE;QAAE;QAAI;IAAS;IAC/E,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/components/UploadBox.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { API_BASE_URL } from \"../lib/api\";\r\n\r\nexport default function UploadBox({ onUploadSuccess }: { onUploadSuccess: () => void }) {\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) {\r\n      setMessage(\"Please select a file first.\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.post(`${API_BASE_URL}/documents/upload`, formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n\r\n      setMessage(\"‚úÖ \" + res.data.message);\r\n      onUploadSuccess();\r\n    } catch (err: any) {\r\n      console.error(err);\r\n      setMessage(\"‚ùå Upload failed. Check backend logs.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 bg-white rounded-2xl shadow-md text-center space-y-4\">\r\n      <h2 className=\"text-xl font-semibold\">üì§ Upload Document</h2>\r\n      <input\r\n        type=\"file\"\r\n        accept=\".pdf,.txt\"\r\n        onChange={(e) => setFile(e.target.files?.[0] || null)}\r\n        className=\"border p-2 w-full rounded-md\"\r\n      />\r\n      <button\r\n        onClick={handleUpload}\r\n        disabled={loading}\r\n        className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 w-full\"\r\n      >\r\n        {loading ? \"Uploading...\" : \"Upload\"}\r\n      </button>\r\n      {message && <p className=\"text-gray-700\">{message}</p>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,UAAU,EAAE,eAAe,EAAmC;IACpF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6NAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM;YACT,WAAW;YACX;QACF;QAEA,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QAExB,IAAI;YACF,WAAW;YACX,MAAM,MAAM,MAAM,4JAAK,CAAC,IAAI,CAAC,GAAG,sIAAY,CAAC,iBAAiB,CAAC,EAAE,UAAU;gBACzE,SAAS;oBAAE,gBAAgB;gBAAsB;YACnD;YAEA,WAAW,OAAO,IAAI,IAAI,CAAC,OAAO;YAClC;QACF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC;YACd,WAAW;QACb,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,0PAAC;QAAI,WAAU;;0BACb,0PAAC;gBAAG,WAAU;0BAAwB;;;;;;0BACtC,0PAAC;gBACC,MAAK;gBACL,QAAO;gBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;gBAChD,WAAU;;;;;;0BAEZ,0PAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAU;0BAET,UAAU,iBAAiB;;;;;;YAE7B,yBAAW,0PAAC;gBAAE,WAAU;0BAAiB;;;;;;;;;;;;AAGhD","debugId":null}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/components/DocumentList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { API_BASE_URL } from \"../lib/api\";\r\n\r\nexport default function DocumentList({ onSelect }: { onSelect: (id: string) => void }) {\r\n  const [documents, setDocuments] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetchDocuments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(`${API_BASE_URL}/documents/`);\r\n      setDocuments(res.data.documents || []);\r\n    } catch (err) {\r\n      console.error(\"Fetch Error:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6 bg-white rounded-2xl shadow-md space-y-4\">\r\n      <h2 className=\"text-xl font-semibold\">üìö Uploaded Documents</h2>\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : documents.length === 0 ? (\r\n        <p>No documents found.</p>\r\n      ) : (\r\n        <ul className=\"divide-y divide-gray-200\">\r\n          {documents.map((doc) => (\r\n            <li\r\n              key={doc.id}\r\n              onClick={() => onSelect(doc.id)}\r\n              className=\"cursor-pointer hover:bg-gray-100 p-2 rounded-md\"\r\n            >\r\n              <div className=\"font-medium\">{doc.filename}</div>\r\n              <div className=\"text-sm text-gray-500\">\r\n                Uploaded: {new Date(doc.uploaded_at).toLocaleString()}\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,aAAa,EAAE,QAAQ,EAAsC;IACnF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6NAAQ,EAAQ,EAAE;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,MAAM,iBAAiB;QACrB,IAAI;YACF,WAAW;YACX,MAAM,MAAM,MAAM,4JAAK,CAAC,GAAG,CAAC,GAAG,sIAAY,CAAC,WAAW,CAAC;YACxD,aAAa,IAAI,IAAI,CAAC,SAAS,IAAI,EAAE;QACvC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gBAAgB;QAChC,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,8NAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,qBACE,0PAAC;QAAI,WAAU;;0BACb,0PAAC;gBAAG,WAAU;0BAAwB;;;;;;YACrC,wBACC,0PAAC;0BAAE;;;;;uBACD,UAAU,MAAM,KAAK,kBACvB,0PAAC;0BAAE;;;;;qCAEH,0PAAC;gBAAG,WAAU;0BACX,UAAU,GAAG,CAAC,CAAC,oBACd,0PAAC;wBAEC,SAAS,IAAM,SAAS,IAAI,EAAE;wBAC9B,WAAU;;0CAEV,0PAAC;gCAAI,WAAU;0CAAe,IAAI,QAAQ;;;;;;0CAC1C,0PAAC;gCAAI,WAAU;;oCAAwB;oCAC1B,IAAI,KAAK,IAAI,WAAW,EAAE,cAAc;;;;;;;;uBANhD,IAAI,EAAE;;;;;;;;;;;;;;;;AAczB","debugId":null}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/components/AskQuestionBox.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { API_BASE_URL } from \"../lib/api\";\r\n\r\nexport default function AskQuestionBox({ documentId }: { documentId: string }) {\r\n  const [question, setQuestion] = useState(\"\");\r\n  const [answer, setAnswer] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const askQuestion = async () => {\r\n    if (!question) return;\r\n    setLoading(true);\r\n    setAnswer(\"\");\r\n\r\n    try {\r\n      const res = await axios.post(`${API_BASE_URL}/qa/query`, {\r\n        document_id: documentId,\r\n        question,\r\n      });\r\n      setAnswer(res.data.answer || \"No answer found.\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      setAnswer(\"Error fetching answer.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 bg-white rounded-2xl shadow-md space-y-4\">\r\n      <h2 className=\"text-xl font-semibold\">ü§ñ Ask a Question</h2>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter your question...\"\r\n        value={question}\r\n        onChange={(e) => setQuestion(e.target.value)}\r\n        className=\"border p-2 w-full rounded-md\"\r\n      />\r\n      <button\r\n        onClick={askQuestion}\r\n        disabled={loading}\r\n        className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 w-full\"\r\n      >\r\n        {loading ? \"Thinking...\" : \"Ask\"}\r\n      </button>\r\n      {answer && (\r\n        <div className=\"bg-gray-50 p-3 rounded-lg border text-left\">\r\n          <p className=\"font-semibold\">Answer:</p>\r\n          <p>{answer}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,eAAe,EAAE,UAAU,EAA0B;IAC3E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6NAAQ,EAAC;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,6NAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,MAAM,cAAc;QAClB,IAAI,CAAC,UAAU;QACf,WAAW;QACX,UAAU;QAEV,IAAI;YACF,MAAM,MAAM,MAAM,4JAAK,CAAC,IAAI,CAAC,GAAG,sIAAY,CAAC,SAAS,CAAC,EAAE;gBACvD,aAAa;gBACb;YACF;YACA,UAAU,IAAI,IAAI,CAAC,MAAM,IAAI;QAC/B,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,UAAU;QACZ,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,0PAAC;QAAI,WAAU;;0BACb,0PAAC;gBAAG,WAAU;0BAAwB;;;;;;0BACtC,0PAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gBAC3C,WAAU;;;;;;0BAEZ,0PAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAU;0BAET,UAAU,gBAAgB;;;;;;YAE5B,wBACC,0PAAC;gBAAI,WAAU;;kCACb,0PAAC;wBAAE,WAAU;kCAAgB;;;;;;kCAC7B,0PAAC;kCAAG;;;;;;;;;;;;;;;;;;AAKd","debugId":null}},
    {"offset": {"line": 417, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_learn/Technical-Assessment-Smart-Document-Q-A-Assistant/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport UploadBox from \"../components/UploadBox\";\r\nimport DocumentList from \"../components/DocumentList\";\r\nimport AskQuestionBox from \"../components/AskQuestionBox\";\r\n\r\nexport default function Page() {\r\n  const [selectedDocId, setSelectedDocId] = useState<string | null>(null);\r\n  const [refresh, setRefresh] = useState(false);\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gray-100 p-6 flex flex-col gap-6 md:flex-row md:items-start md:justify-center\">\r\n      <div className=\"max-w-md w-full space-y-6\">\r\n        <UploadBox onUploadSuccess={() => setRefresh(!refresh)} />\r\n        <DocumentList\r\n          key={refresh.toString()}\r\n          onSelect={(id) => setSelectedDocId(id)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"max-w-md w-full\">\r\n        {selectedDocId ? (\r\n          <AskQuestionBox documentId={selectedDocId} />\r\n        ) : (\r\n          <div className=\"p-6 bg-white rounded-2xl shadow-md text-center text-gray-500\">\r\n            Select a document to ask questions.\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,6NAAQ,EAAgB;IAClE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,qBACE,0PAAC;QAAK,WAAU;;0BACd,0PAAC;gBAAI,WAAU;;kCACb,0PAAC,+IAAS;wBAAC,iBAAiB,IAAM,WAAW,CAAC;;;;;;kCAC9C,0PAAC,kJAAY;wBAEX,UAAU,CAAC,KAAO,iBAAiB;uBAD9B,QAAQ,QAAQ;;;;;;;;;;;0BAKzB,0PAAC;gBAAI,WAAU;0BACZ,8BACC,0PAAC,oJAAc;oBAAC,YAAY;;;;;yCAE5B,0PAAC;oBAAI,WAAU;8BAA+D;;;;;;;;;;;;;;;;;AAOxF","debugId":null}}]
}